<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>FamBot WebApp</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="app">
    <div id="tg-top-logo" class="tg-top-logo hidden">
      <img src="{{ url_for('static', filename='icons/logo.png') }}" alt="logo" />
    </div>
    <header class="app-header">
      <div class="title-block">
        <h1 class="app-title">День вдвоём</h1>
        <p class="subtitle">Место для вашей пары</p>
      </div>

      <!-- ОДНА КНОПКА ПЕРЕКЛЮЧАТЕЛЯ ТЕМЫ -->
      <div class="theme-switch">
        <button id="theme-toggle-btn" type="button" class="theme-toggle-btn">
          <span class="theme-toggle-thumb" aria-hidden="true">
            <svg class="theme-toggle-icon" viewBox="0 0 24 24">
              <!-- Синяя тема -->
              <path
                class="theme-icon-blue"
                d="M12,6.36c2,2.58,4,5.87,4,7.64a4,4,0,0,1-8,0c0-1.77,2-5.06,4-7.64M12,3.2S6,10,6,14a6,6,0,0,0,12,0c0-4-6-10.8-6-10.8Z"
              />
              <!-- Розовая тема -->
              <path
                class="theme-icon-pink"
                d="M4.67,18.788A9.991,9.991,0,0,0,22,12V6a1,1,0,0,0-1.062-1,21.6,21.6,0,0,0-3.854.731,10.569,10.569,0,0,0-4.767-3.681,1,1,0,0,0-.635,0A10.592,10.592,0,0,0,6.931,5.713,21.024,21.024,0,0,0,3.063,5,1,1,0,0,0,2,6v6a9.93,9.93,0,0,0,2.592,6.679A.938.938,0,0,0,4.67,18.788ZM20,12a8.009,8.009,0,0,1-8,8,7.892,7.892,0,0,1-5.481-2.186C8.13,11.586,13.731,8.049,20,7.12ZM8.954,6.368A8.9,8.9,0,0,1,12,4.078a8.749,8.749,0,0,1,3.045,2.288A20.715,20.715,0,0,0,12,7.788c-.031-.018-.066-.033-.1-.051q-.655-.369-1.308-.676L10.44,6.99c-.5-.23-.989-.435-1.469-.615ZM4,7.128a21.322,21.322,0,0,1,6.091,1.917A14.7,14.7,0,0,0,5.1,15.656c-.019.05-.041.1-.06.148-.008.022-.018.042-.026.064A7.908,7.908,0,0,1,4,12Z"
              />
            </svg>
          </span>
          <span class="theme-toggle-text">Синий</span>
        </button>
      </div>
    </header>

    <!-- Главная страница -->
    <main id="page-main">
      <div id="pair-card" class="card hidden">
        <h2 class="main-title">
          Ваша пара с
          <span id="partner-line" class="accent-text"></span><span class="container-danger">
          <button id="delete-pair-btn" class="btn-danger">
            <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M7.68377 0.0513439C8.20771 -0.123304 8.77403 0.159856 8.94868 0.683799L9.94868 3.6838C10.1233 4.20774 9.84017 4.77406 9.31622 4.94871C8.79228 5.12336 8.22596 4.8402 8.05131 4.31625L7.05131 1.31625C6.87667 0.792312 7.15983 0.225992 7.68377 0.0513439Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M20.8596 9.54591L16.9706 13.435C16.58 13.8255 15.9469 13.8255 15.5563 13.435C15.1658 13.0445 15.1658 12.4113 15.5563 12.0208L19.4454 8.1317C20.4217 7.15539 20.4217 5.57247 19.4454 4.59616C18.4691 3.61985 16.8862 3.61985 15.9099 4.59616L12.0208 8.48525C11.6303 8.87578 10.9971 8.87578 10.6066 8.48525C10.2161 8.09473 10.2161 7.46156 10.6066 7.07104L14.4957 3.18195C16.253 1.42459 19.1023 1.42459 20.8596 3.18195C22.617 4.93931 22.617 7.78855 20.8596 9.54591Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M3.18198 14.4957L7.07106 10.6066C7.46159 10.216 8.09475 10.216 8.48528 10.6066C8.8758 10.9971 8.8758 11.6303 8.48528 12.0208L4.59619 15.9099C3.61988 16.8862 3.61988 18.4691 4.59619 19.4454C5.5725 20.4217 7.15541 20.4217 8.13172 19.4454L12.0208 15.5563C12.4113 15.1658 13.0445 15.1658 13.435 15.5563C13.8256 15.9468 13.8256 16.58 13.435 16.9705L9.54594 20.8596C7.78858 22.617 4.93934 22.617 3.18198 20.8596C1.42462 19.1023 1.42462 16.253 3.18198 14.4957Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M2.29289 2.29292C2.68341 1.9024 3.31658 1.9024 3.7071 2.29292L6.7071 5.29292C7.09763 5.68344 7.09763 6.31661 6.7071 6.70713C6.31658 7.09766 5.68341 7.09766 5.29289 6.70713L2.29289 3.70713C1.90237 3.31661 1.90237 2.68344 2.29289 2.29292Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M20.2929 21.7071C20.6834 22.0977 21.3166 22.0977 21.7071 21.7071C22.0976 21.3166 22.0976 20.6834 21.7071 20.2929L18.7071 17.2929C18.3166 16.9024 17.6834 16.9024 17.2929 17.2929C16.9024 17.6834 16.9024 18.3166 17.2929 18.7071L20.2929 21.7071Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M15.0513 23.3163C15.226 23.8402 15.7923 24.1234 16.3162 23.9487C16.8402 23.7741 17.1233 23.2077 16.9487 22.6838L15.9487 19.6838C15.774 19.1599 15.2077 18.8767 14.6838 19.0513C14.1598 19.226 13.8767 19.7923 14.0513 20.3163L15.0513 23.3163Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M0.0513134 7.6838C-0.123334 8.20774 0.159826 8.77406 0.683769 8.94871L3.68377 9.94871C4.20771 10.1234 4.77403 9.8402 4.94868 9.31625C5.12333 8.79231 4.84017 8.22599 4.31622 8.05134L1.31622 7.05134C0.792281 6.8767 0.225961 7.15986 0.0513134 7.6838Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />

              <path
                d="M23.3162 15.0513C23.8402 15.226 24.1233 15.7923 23.9487 16.3163C23.774 16.8402 23.2077 17.1234 22.6838 16.9487L19.6838 15.9487C19.1598 15.7741 18.8767 15.2077 19.0513 14.6838C19.226 14.1599 19.7923 13.8767 20.3162 14.0513L23.3162 15.0513Z"
                fill="currentColor" stroke="currentColor" stroke-width="1.5"
                stroke-linecap="round" stroke-linejoin="round"
              />
            </svg>
          </button>
          </span>
        </h2>
        <p id="rel-summary"></p>
        <p id="rel-progress"></p>
        <p id="rel-milestone"></p>
        <p id="rel-big"></p>


        <div class="row">
          <button id="startdate-edit-btn" type="button" class="btn-secondary">
            Изменить дату
          </button>
        </div>

        <form id="startdate-form" class="row hidden">
          <input
            id="startdate-input"
            type="text"
            placeholder="ДД.ММ.ГГГГ"
          />
          <button id="startdate-save-btn" type="submit">Сохранить</button>
        </form>
      </div>

      <div id="cloud-card" class="card hidden">
        <h2 class="main-title">Общий диск</h2>
        <p id="cloud-current" class="muted"></p>

        <div class="row">
          <button id="cloud-open-btn" type="button" class="wl-link-btn">
            Открыть
          </button>

          <button id="cloud-edit-btn" type="button" class="btn-secondary">
            Изменить ссылку
          </button>
        </div>

        <form id="cloud-form" class="row hidden">
          <input id="cloud-input" type="text" placeholder="Ссылка" />
          <button id="cloud-save-btn" type="submit">Сохранить</button>
        </form>
      </div>

      <div id="no-pair" class="card hidden">
        <p>
          Кажется, у вас ещё нет пары в боте.<br />
          Зайдите в бот и создайте пару через «Добавить партнёра» или отправьте инвайт.
        </p>
      </div>
    </main>

    <!-- Страница со списком желаний -->
    <main id="page-wishlist" class="hidden">
      <div id="wishlist-card" class="card hidden wishlist-card">
        <div class="wishlist-header">
          <div class="wishlist-header-top">
            <h2 class="main-title">Список желаний</h2>
            <span class="container-danger">
              <button id="clear-my-wishlist-btn" class="btn-danger">
                <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M10 12L14 16M14 12L10 16M18 6L17.1991 18.0129C17.129 19.065 17.0939 19.5911 16.8667 19.99C16.6666 20.3412 16.3648 20.6235 16.0011 20.7998C15.588 21 15.0607 21 14.0062 21H9.99377C8.93927 21 8.41202 21 7.99889 20.7998C7.63517 20.6235 7.33339 20.3412 7.13332 19.99C6.90607 19.5911 6.871 19.065 6.80086 18.0129L6 6M4 6H20M16 6L15.7294 5.18807C15.4671 4.40125 15.3359 4.00784 15.0927 3.71698C14.8779 3.46013 14.6021 3.26132 14.2905 3.13878C13.9376 3 13.523 3 12.6936 3H11.3064C10.477 3 10.0624 3 9.70951 3.13878C9.39792 3.26132 9.12208 3.46013 8.90729 3.71698C8.66405 4.00784 8.53292 4.40125 8.27064 5.18807L8 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>

                </svg>
              </button>
            </span>
          </div>

          <p class="wishlist-subtitle muted">
            Записывайте желания, оставляйте ссылки, радуйте друг друга
          </p>
        </div>

        <div class="tabs wishlist-tabs">
          <button id="tab-partner" class="tab active">Список партнёра</button>
          <button id="tab-my" class="tab">Мой список</button>
        </div>

        <!-- Блок Мой список -->
        <div id="my-list-block" class="wishlist-block">
          <div class="wl-group">
            <ul id="my-wishlist" class="wl-list"></ul>
          </div>
          <p id="my-empty" class="muted wl-empty hidden">
            Пока тут пусто. Добавьте первое желание ☺️
          </p>

          <form id="add-form" class="add-form wl-add-form">
            <label class="wl-add-label" for="title-input">Новое желание</label>
            <div class="wl-add-row">
              <input
                type="text"
                id="title-input"
                placeholder='Например: "Новый рюкзак"'
                autocomplete="off"
                required
              />
              <button type="submit" class="wl-add-btn">Добавить</button>
            </div>
          </form>
        </div>

        <!-- Блок Список партнёра -->
        <div id="partner-list-block" class="wishlist-block hidden">
          <div class="wl-group">
            <ul id="partner-wishlist" class="wl-list"></ul>
          </div>
          <p id="partner-empty" class="muted wl-empty hidden">
            Партнёр ещё ничего не добавил.
          </p>
        </div>
      </div>
    </main>

    <p id="error" class="error hidden"></p>

    <!-- НИЖНИЙ ТАББАР С ИКОНКАМИ -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-page="main">
        <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M14 20V14C14 12.8954 13.1046 12 12 12C10.8954 12 10 12.8954 10 14V20M10.9833 3.60011L4.98335 7.14177C4.37395 7.50149 4 8.15646 4 8.8641V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V8.8641C20 8.15646 19.6261 7.50149 19.0167 7.14177L13.0167 3.60011C12.3894 3.22988 11.6106 3.22988 10.9833 3.60011Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="nav-label">Главная</span>
      </button>

      <button class="nav-btn" data-page="wishlist">
        <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M22 12H2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M12 2V22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M13 12C13 14.2091 14.7909 16 17 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M11 12C11 14.2091 9.20914 16 7 16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M12 10.0352C12 8.54529 13.014 7.24659 14.4594 6.88524C16.0631 6.48431 17.5158 7.93697 17.1148 9.5407C16.7535 10.9861 15.4548 12.0001 13.9649 12.0001H12V10.0352Z" stroke="currentColor" stroke-width="1.5"/>
          <path d="M12.0001 10.0352C12.0001 8.54529 10.9861 7.24659 9.5407 6.88524C7.93698 6.48431 6.48431 7.93697 6.88524 9.5407C7.24659 10.9861 8.54529 12.0001 10.0352 12.0001H12.0001V10.0352Z" stroke="currentColor" stroke-width="1.5"/>
          <path d="M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <span class="nav-label">Желания</span>
      </button>
    </nav>
  </div>

  <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>